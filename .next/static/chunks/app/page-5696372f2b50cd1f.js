(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2252:(e,t,s)=>{Promise.resolve().then(s.bind(s,3843))},3843:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ej});var a=s(5155),r=s(2115),n=s(1218);function l(e){let{}=e,{t}=(0,n.Bd)();return(0,a.jsx)("div",{className:"bg-red-600 text-white p-2 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:t("header.warning")})})}function i(){let{i18n:e}=(0,n.Bd)(),[t,s]=(0,r.useState)(!1),l=[{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"pt",name:"Portugu\xeas",flag:"\uD83C\uDDE7\uD83C\uDDF7"}],i=l.find(t=>t.code===e.language)||l[0];return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>s(!t),className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("span",{className:"text-lg",children:i.flag}),(0,a.jsx)("span",{className:"text-sm font-medium",children:i.name}),(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&(0,a.jsx)("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:l.map(t=>(0,a.jsxs)("button",{onClick:()=>{var a;return a=t.code,void(e.changeLanguage(a),s(!1))},className:"w-full flex items-center space-x-2 px-3 py-2 hover:bg-gray-50 transition-colors ".concat(t.code===e.language?"bg-gray-100":""," ").concat(t.code===l[0].code?"rounded-t-lg":""," ").concat(t.code===l[l.length-1].code?"rounded-b-lg":""),children:[(0,a.jsx)("span",{className:"text-lg",children:t.flag}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t.name}),t.code===e.language&&(0,a.jsx)("svg",{className:"w-4 h-4 ml-auto text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},t.code))})]})}var o=s(2596),c=s(9688);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,c.QP)((0,o.$)(t))}let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("rounded-xl border border-gray-200 bg-white shadow",s),...r})});m.displayName="Card";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...r})});u.displayName="CardHeader";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:d("font-semibold leading-none tracking-tight",s),...r})});x.displayName="CardTitle";let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:d("text-sm text-gray-600",s),...r})});N.displayName="CardDescription";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("p-6 pt-0",s),...r})});h.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var A=s(2085);let g=(0,A.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}},defaultVariants:{variant:"default"}});function p(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:d(g({variant:s}),t),...r})}var b=s(9708);let I=(0,A.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-600 text-white shadow hover:bg-blue-700",destructive:"bg-red-600 text-white shadow-sm hover:bg-red-700",outline:"border border-gray-300 bg-white shadow-sm hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),f=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:l=!1,...i}=e,o=l?b.DX:"button";return(0,a.jsx)(o,{className:d(I({variant:r,size:n,className:s})),ref:t,...i})});f.displayName="Button";let E=[{value:"GENERAL_MEDICINE",label:"General Medicine"},{value:"CARDIOLOGY",label:"Cardiology"},{value:"DERMATOLOGY",label:"Dermatology"},{value:"PEDIATRICS",label:"Pediatrics"},{value:"SURGERY",label:"Surgery"},{value:"PSYCHIATRY",label:"Psychiatry"},{value:"RADIOLOGY",label:"Radiology"},{value:"ANESTHESIOLOGY",label:"Anesthesiology"},{value:"EMERGENCY_MEDICINE",label:"Emergency Medicine"},{value:"INTERNAL_MEDICINE",label:"Internal Medicine"},{value:"NEUROLOGY",label:"Neurology"},{value:"ORTHOPEDICS",label:"Orthopedics"},{value:"OBSTETRICS_GYNECOLOGY",label:"Obstetrics & Gynecology"},{value:"OPHTHALMOLOGY",label:"Ophthalmology"},{value:"OTOLARYNGOLOGY",label:"Otolaryngology"},{value:"PATHOLOGY",label:"Pathology"},{value:"UROLOGY",label:"Urology"}];var y=function(e){return e[e.AUTHENTICATE=10]="AUTHENTICATE",e[e.INITIALIZE_CONSULTATION=20]="INITIALIZE_CONSULTATION",e[e.START_RECORDING=30]="START_RECORDING",e[e.END_RECORDING=40]="END_RECORDING",e[e.CONFIRM_PATIENT=50]="CONFIRM_PATIENT",e[e.IMPORT_SCRIBE=60]="IMPORT_SCRIBE",e[e.COMPLETED=70]="COMPLETED",e}({});let j={10:"workflow.steps.authenticate",20:"workflow.steps.initializeConsultation",30:"workflow.steps.startRecording",40:"workflow.steps.endRecording",50:"workflow.steps.confirmPatient",60:"workflow.steps.importScribe",70:"workflow.steps.completed"};function S(e){let{currentStep:t}=e,{t:s}=(0,n.Bd)();return(0,a.jsxs)("div",{className:"bg-white border-b border-gray-300 p-4 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold mb-3 text-gray-700",children:s("workflow.title")}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(j).map(e=>{let[r,n]=e,l=parseInt(r);if(l===y.COMPLETED)return null;let i=t>l,o=t===l;return(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 flex items-center justify-center mt-0.5 ".concat(i?"bg-green-500 border-green-500":"bg-white border-gray-700"),children:i&&(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-sm ".concat(i?"text-green-700 line-through":o?"text-blue-700 font-semibold":"text-gray-500"),children:s(n)}),o&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:s("workflow.currentStep")})]})]},r)})})]})}let T=(0,r.createContext)(void 0),v=()=>{let e=(0,r.useContext)(T);if(!e)throw Error("useTelepatia must be used within TelepatiaProvider");return e};function R(e){let{children:t}=e,[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[N,h]=(0,r.useState)(!1),[A,g]=(0,r.useState)(()=>{let e=[],t=new Date;for(let s=1;s<=9;s++){let a=new Date(t.getTime()-36e5*s);e.push({id:"mock-".concat(s),patientName:"Patient ".concat(a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),startTime:a.toISOString(),duration:Math.floor(600*Math.random())+120,patientInfo:void 0})}return e}),[p,b]=(0,r.useState)(null),[I,f]=(0,r.useState)(null),[E,y]=(0,r.useState)({name:"",idCountry:"",idType:"",idValue:""});return(0,a.jsx)(T.Provider,{value:{showConfirmModal:s,setShowConfirmModal:n,showErrorModal:l,setShowErrorModal:i,errorMessage:o,setErrorMessage:c,showSessionsList:d,setShowSessionsList:m,showReassignModal:u,setShowReassignModal:x,showCreateNewPatient:N,setShowCreateNewPatient:h,sessions:A,setSessions:g,selectedSession:p,setSelectedSession:b,reassignSession:I,setReassignSession:f,newPatientForm:E,setNewPatientForm:y},children:t})}function C(e){let{currentStep:t,setCurrentStep:s}=e,{t:r}=(0,n.Bd)(),l=()=>{window.open("https://scribe.dev.telepatia.ai","_blank","noopener,noreferrer"),t===y.START_RECORDING&&s(y.END_RECORDING)};return(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:r("telepatia.recording.externalTitle")||"Record with Telepatia Scribe"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:r("telepatia.recording.externalDescription")||"Click the link below to open the Telepatia Scribe interface and record your consultation."})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-md",children:[t===y.START_RECORDING&&(0,a.jsxs)("button",{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),r("telepatia.recording.openScribe")||"Open Telepatia Scribe"]}),t===y.END_RECORDING&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("p",{className:"text-green-600 font-medium",children:r("telepatia.recording.recordingInProgress")||"Recording session in progress..."}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:r("telepatia.recording.completeInstructions")||"Complete your recording in the Scribe interface, then click the button below."})]}),(0,a.jsx)("button",{onClick:()=>{t===y.END_RECORDING&&s(y.CONFIRM_PATIENT)},className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-lg transition-colors",children:r("telepatia.recording.markComplete")||"Mark Recording Complete"}),(0,a.jsxs)("button",{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),r("telepatia.recording.reopenScribe")||"Reopen Scribe"]})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:()=>{s(y.CONFIRM_PATIENT)},className:"w-full text-gray-500 hover:text-gray-700 py-2 text-sm transition-colors",children:r("telepatia.recording.skipForDemo")||"Skip Recording (Demo Only)"})})]}),(0,a.jsx)("div",{className:"mt-8 text-center max-w-md",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:r("telepatia.recording.helpText")||"The Telepatia Scribe interface will open in a new tab. Complete your recording there and return here to continue the integration workflow."})})]})}function O(e){let{setCurrentStep:t}=e,{sessions:s,setSelectedSession:r,setShowSessionsList:n,setReassignSession:l,setShowReassignModal:i,setShowCreateNewPatient:o,setNewPatientForm:c}=v(),d=e=>{l(e),n(!1),i(!0),o(!1),c({name:"",idCountry:"",idType:"",idValue:""})};return(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Select Session"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Choose the session to import:"}),(0,a.jsx)("div",{className:"space-y-2",children:s.map((e,s)=>(0,a.jsx)("div",{className:"border-2 rounded-lg p-4 transition-colors ".concat(0===s?"border-purple-500":"border-gray-300"),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1 cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded",onClick:()=>{r(e),n(!1),t(y.IMPORT_SCRIBE)},children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800",children:e.patientName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Started: ",new Date(e.startTime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Duration: ",(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(e.duration)]}),e.patientInfo&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",e.patientInfo.idType," - ",e.patientInfo.idValue]})]}),e.patientInfo?(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),d(e)},className:"ml-2 p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors flex items-center space-x-1",title:"Reassign Patient",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})]}):(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e)},className:"ml-2 px-3 py-1 text-sm bg-red-400 hover:bg-red-500 text-white rounded-lg transition-colors",children:"Assign Patient"})]})},e.id))})]})})}function _(e){let{patientInfo:t,title:s,description:r}=e,{t:l}=(0,n.Bd)();return t?(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s}),r&&(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:r}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded mb-6",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsxs)("strong",{children:[l("telepatia.patient.name"),":"]})," ",t.name]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsxs)("strong",{children:[l("telepatia.patient.country"),":"]})," ",t.idCountry]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsxs)("strong",{children:[l("telepatia.patient.idType"),":"]})," ",t.idType]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsxs)("strong",{children:[l("telepatia.patient.idNumber"),":"]})," ",t.idValue]})]})]}):null}function w(e){let{patientInfo:t,setCurrentStep:s,onSessionCreated:r}=e,{t:l}=(0,n.Bd)(),{sessions:i,setSessions:o,setSelectedSession:c,setShowConfirmModal:d}=v(),m=e=>{d(!1);let a=new Date,n={id:Date.now().toString(),patientName:e&&t?t.name:"Patient ".concat(a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),startTime:a.toISOString(),duration:0,patientInfo:e&&t?t:void 0};o([n,...i]),c(n),r(n),s(y.IMPORT_SCRIBE)};return(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsx)(_,{patientInfo:t,title:l("telepatia.patient.confirmTitle"),description:l("telepatia.patient.confirmMessage")}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>m(!0),className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:l("telepatia.patient.confirm")}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:l("telepatia.patient.cancel")})]})]})})}var L=function(e){return e.UNKNOWN="unknown",e.AFGHANISTAN="AFGHANISTAN",e.LAND_ISLANDS="LAND_ISLANDS",e.ALBANIA="ALBANIA",e.ALGERIA="ALGERIA",e.AMERICAN_SAMOA="AMERICAN_SAMOA",e.ANDORRA="ANDORRA",e.ANGOLA="ANGOLA",e.ANGUILLA="ANGUILLA",e.ANTARCTICA="ANTARCTICA",e.ANTIGUA_AND_BARBUDA="ANTIGUA_AND_BARBUDA",e.ARGENTINA="ARGENTINA",e.ARMENIA="ARMENIA",e.ARUBA="ARUBA",e.AUSTRALIA="AUSTRALIA",e.AUSTRIA="AUSTRIA",e.AZERBAIJAN="AZERBAIJAN",e.BAHAMAS="BAHAMAS",e.BAHRAIN="BAHRAIN",e.BANGLADESH="BANGLADESH",e.BARBADOS="BARBADOS",e.BELARUS="BELARUS",e.BELGIUM="BELGIUM",e.BELIZE="BELIZE",e.BENIN="BENIN",e.BERMUDA="BERMUDA",e.BHUTAN="BHUTAN",e.BOLIVIA="BOLIVIA",e.BONAIRE_SINT_EUSTATIUS_AND_SABA="BONAIRE_SINT_EUSTATIUS_AND_SABA",e.BOSNIA_AND_HERZEGOVINA="BOSNIA_AND_HERZEGOVINA",e.BOTSWANA="BOTSWANA",e.BOUVET_ISLAND="BOUVET_ISLAND",e.BRAZIL="BRAZIL",e.BRITISH_INDIAN_OCEAN_TERRITORY="BRITISH_INDIAN_OCEAN_TERRITORY",e.BRUNEI_DARUSSALAM="BRUNEI_DARUSSALAM",e.BULGARIA="BULGARIA",e.BURKINA_FASO="BURKINA_FASO",e.BURUNDI="BURUNDI",e.CAMBODIA="CAMBODIA",e.CAMEROON="CAMEROON",e.CANADA="CANADA",e.CAPE_VERDE="CAPE_VERDE",e.CAYMAN_ISLANDS="CAYMAN_ISLANDS",e.CENTRAL_AFRICAN_REPUBLIC="CENTRAL_AFRICAN_REPUBLIC",e.CHAD="CHAD",e.CHILE="CHILE",e.CHRISTMAS_ISLAND="CHRISTMAS_ISLAND",e.COCOS_KEELING_ISLANDS="COCOS_KEELING_ISLANDS",e.COLOMBIA="COLOMBIA",e.COMOROS="COMOROS",e.COOK_ISLANDS="COOK_ISLANDS",e.COSTA_RICA="COSTA_RICA",e.COTE_D_IVOIRE="COTE_D_IVOIRE",e.CROATIA="CROATIA",e.CUBA="CUBA",e.CURA_AO="CURA_AO",e.CYPRUS="CYPRUS",e.CZECH_REPUBLIC="CZECH_REPUBLIC",e.DEMOCRATIC_REPUBLIC_OF_THE_CONGO="DEMOCRATIC_REPUBLIC_OF_THE_CONGO",e.DENMARK="DENMARK",e.DJIBOUTI="DJIBOUTI",e.DOMINICA="DOMINICA",e.DOMINICAN_REPUBLIC="DOMINICAN_REPUBLIC",e.ECUADOR="ECUADOR",e.EGYPT="EGYPT",e.EL_SALVADOR="EL_SALVADOR",e.EQUATORIAL_GUINEA="EQUATORIAL_GUINEA",e.ERITREA="ERITREA",e.ESTONIA="ESTONIA",e.ESWATINI="ESWATINI",e.ETHIOPIA="ETHIOPIA",e.FALKLAND_ISLANDS_MALVINAS="FALKLAND_ISLANDS_MALVINAS",e.FAROE_ISLANDS="FAROE_ISLANDS",e.FIJI="FIJI",e.FINLAND="FINLAND",e.FRANCE="FRANCE",e.FRENCH_GUIANA="FRENCH_GUIANA",e.FRENCH_POLYNESIA="FRENCH_POLYNESIA",e.FRENCH_SOUTHERN_TERRITORIES="FRENCH_SOUTHERN_TERRITORIES",e.GABON="GABON",e.GEORGIA="GEORGIA",e.GERMANY="GERMANY",e.GHANA="GHANA",e.GIBRALTAR="GIBRALTAR",e.GREECE="GREECE",e.GREENLAND="GREENLAND",e.GRENADA="GRENADA",e.GUADELOUPE="GUADELOUPE",e.GUAM="GUAM",e.GUATEMALA="GUATEMALA",e.GUERNSEY="GUERNSEY",e.GUINEA="GUINEA",e.GUINEA_BISSAU="GUINEA_BISSAU",e.GUYANA="GUYANA",e.HAITI="HAITI",e.HEARD_ISLAND_AND_MCDONALD_ISLANDS="HEARD_ISLAND_AND_MCDONALD_ISLANDS",e.HOLY_SEE_VATICAN_CITY_STATE="HOLY_SEE_VATICAN_CITY_STATE",e.HONDURAS="HONDURAS",e.HONG_KONG="HONG_KONG",e.HUNGARY="HUNGARY",e.ICELAND="ICELAND",e.INDIA="INDIA",e.INDONESIA="INDONESIA",e.IRAQ="IRAQ",e.IRELAND="IRELAND",e.ISLAMIC_REPUBLIC_OF_IRAN="ISLAMIC_REPUBLIC_OF_IRAN",e.ISLE_OF_MAN="ISLE_OF_MAN",e.ISRAEL="ISRAEL",e.ITALY="ITALY",e.JAMAICA="JAMAICA",e.JAPAN="JAPAN",e.JERSEY="JERSEY",e.JORDAN="JORDAN",e.KAZAKHSTAN="KAZAKHSTAN",e.KENYA="KENYA",e.KIRIBATI="KIRIBATI",e.KOSOVO="KOSOVO",e.KUWAIT="KUWAIT",e.KYRGYZSTAN="KYRGYZSTAN",e.LAO_PEOPLE_S_DEMOCRATIC_REPUBLIC="LAO_PEOPLE_S_DEMOCRATIC_REPUBLIC",e.LATVIA="LATVIA",e.LEBANON="LEBANON",e.LESOTHO="LESOTHO",e.LIBERIA="LIBERIA",e.LIBYA="LIBYA",e.LIECHTENSTEIN="LIECHTENSTEIN",e.LITHUANIA="LITHUANIA",e.LUXEMBOURG="LUXEMBOURG",e.MACAO="MACAO",e.MADAGASCAR="MADAGASCAR",e.MALAWI="MALAWI",e.MALAYSIA="MALAYSIA",e.MALDIVES="MALDIVES",e.MALI="MALI",e.MALTA="MALTA",e.MARSHALL_ISLANDS="MARSHALL_ISLANDS",e.MARTINIQUE="MARTINIQUE",e.MAURITANIA="MAURITANIA",e.MAURITIUS="MAURITIUS",e.MAYOTTE="MAYOTTE",e.MEXICO="MEXICO",e.MICRONESIA_FEDERATED_STATES_OF="MICRONESIA_FEDERATED_STATES_OF",e.MOLDOVA_REPUBLIC_OF="MOLDOVA_REPUBLIC_OF",e.MONACO="MONACO",e.MONGOLIA="MONGOLIA",e.MONTENEGRO="MONTENEGRO",e.MONTSERRAT="MONTSERRAT",e.MOROCCO="MOROCCO",e.MOZAMBIQUE="MOZAMBIQUE",e.MYANMAR="MYANMAR",e.NAMIBIA="NAMIBIA",e.NAURU="NAURU",e.NEPAL="NEPAL",e.NETHERLANDS="NETHERLANDS",e.NEW_CALEDONIA="NEW_CALEDONIA",e.NEW_ZEALAND="NEW_ZEALAND",e.NICARAGUA="NICARAGUA",e.NIGER="NIGER",e.NIGERIA="NIGERIA",e.NIUE="NIUE",e.NORFOLK_ISLAND="NORFOLK_ISLAND",e.NORTH_KOREA="NORTH_KOREA",e.NORTHERN_MARIANA_ISLANDS="NORTHERN_MARIANA_ISLANDS",e.NORWAY="NORWAY",e.OMAN="OMAN",e.PAKISTAN="PAKISTAN",e.PALAU="PALAU",e.PANAMA="PANAMA",e.PAPUA_NEW_GUINEA="PAPUA_NEW_GUINEA",e.PARAGUAY="PARAGUAY",e.PEOPLE_S_REPUBLIC_OF_CHINA="PEOPLE_S_REPUBLIC_OF_CHINA",e.PERU="PERU",e.PHILIPPINES="PHILIPPINES",e.PITCAIRN="PITCAIRN",e.POLAND="POLAND",e.PORTUGAL="PORTUGAL",e.PUERTO_RICO="PUERTO_RICO",e.QATAR="QATAR",e.REPUBLIC_OF_THE_CONGO="REPUBLIC_OF_THE_CONGO",e.REPUBLIC_OF_THE_GAMBIA="REPUBLIC_OF_THE_GAMBIA",e.REUNION="REUNION",e.ROMANIA="ROMANIA",e.RUSSIAN_FEDERATION="RUSSIAN_FEDERATION",e.RWANDA="RWANDA",e.SAINT_BARTH_LEMY="SAINT_BARTH_LEMY",e.SAINT_HELENA="SAINT_HELENA",e.SAINT_KITTS_AND_NEVIS="SAINT_KITTS_AND_NEVIS",e.SAINT_LUCIA="SAINT_LUCIA",e.SAINT_MARTIN_FRENCH_PART="SAINT_MARTIN_FRENCH_PART",e.SAINT_PIERRE_AND_MIQUELON="SAINT_PIERRE_AND_MIQUELON",e.SAINT_VINCENT_AND_THE_GRENADINES="SAINT_VINCENT_AND_THE_GRENADINES",e.SAMOA="SAMOA",e.SAN_MARINO="SAN_MARINO",e.SAO_TOME_AND_PRINCIPE="SAO_TOME_AND_PRINCIPE",e.SAUDI_ARABIA="SAUDI_ARABIA",e.SENEGAL="SENEGAL",e.SERBIA="SERBIA",e.SEYCHELLES="SEYCHELLES",e.SIERRA_LEONE="SIERRA_LEONE",e.SINGAPORE="SINGAPORE",e.SINT_MAARTEN_DUTCH_PART="SINT_MAARTEN_DUTCH_PART",e.SLOVAKIA="SLOVAKIA",e.SLOVENIA="SLOVENIA",e.SOLOMON_ISLANDS="SOLOMON_ISLANDS",e.SOMALIA="SOMALIA",e.SOUTH_AFRICA="SOUTH_AFRICA",e.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS="SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS",e.SOUTH_KOREA="SOUTH_KOREA",e.SOUTH_SUDAN="SOUTH_SUDAN",e.SPAIN="SPAIN",e.SRI_LANKA="SRI_LANKA",e.STATE_OF_PALESTINE="STATE_OF_PALESTINE",e.SUDAN="SUDAN",e.SURINAME="SURINAME",e.SVALBARD_AND_JAN_MAYEN="SVALBARD_AND_JAN_MAYEN",e.SWEDEN="SWEDEN",e.SWITZERLAND="SWITZERLAND",e.SYRIAN_ARAB_REPUBLIC="SYRIAN_ARAB_REPUBLIC",e.TAIWAN_PROVINCE_OF_CHINA="TAIWAN_PROVINCE_OF_CHINA",e.TAJIKISTAN="TAJIKISTAN",e.THAILAND="THAILAND",e.THE_REPUBLIC_OF_NORTH_MACEDONIA="THE_REPUBLIC_OF_NORTH_MACEDONIA",e.TIMOR_LESTE="TIMOR_LESTE",e.TOGO="TOGO",e.TOKELAU="TOKELAU",e.TONGA="TONGA",e.TRINIDAD_AND_TOBAGO="TRINIDAD_AND_TOBAGO",e.TUNISIA="TUNISIA",e.T_RKIYE="T_RKIYE",e.TURKMENISTAN="TURKMENISTAN",e.TURKS_AND_CAICOS_ISLANDS="TURKS_AND_CAICOS_ISLANDS",e.TUVALU="TUVALU",e.UGANDA="UGANDA",e.UKRAINE="UKRAINE",e.UNITED_ARAB_EMIRATES="UNITED_ARAB_EMIRATES",e.UNITED_KINGDOM="UNITED_KINGDOM",e.UNITED_REPUBLIC_OF_TANZANIA="UNITED_REPUBLIC_OF_TANZANIA",e.UNITED_STATES_MINOR_OUTLYING_ISLANDS="UNITED_STATES_MINOR_OUTLYING_ISLANDS",e.UNITED_STATES_OF_AMERICA="UNITED_STATES_OF_AMERICA",e.URUGUAY="URUGUAY",e.UZBEKISTAN="UZBEKISTAN",e.VANUATU="VANUATU",e.VENEZUELA="VENEZUELA",e.VIETNAM="VIETNAM",e.VIRGIN_ISLANDS_BRITISH="VIRGIN_ISLANDS_BRITISH",e.VIRGIN_ISLANDS_U_S="VIRGIN_ISLANDS_U_S",e.WALLIS_AND_FUTUNA="WALLIS_AND_FUTUNA",e.WESTERN_SAHARA="WESTERN_SAHARA",e.YEMEN="YEMEN",e.ZAMBIA="ZAMBIA",e.ZIMBABWE="ZIMBABWE",e}({}),D=function(e){return e.UNKNOWN="unknown",e.BC="BC",e.RG="RG",e.CPF="CPF",e.PO="PO",e.PT="PT",e.NUMBER_15="15",e.PF="PF",e.NN="NN",e.CN="CN",e.CC="CC",e.CE="CE",e.TI="TI",e.RC="RC",e.MS="MS",e.PA="PA",e.NU="NU",e.PD="PD",e.RP="RP",e.TE="TE",e.CD="CD",e.SC="SC",e.MSI="MSI",e.EC="EC",e.PE="PE",e.NIT="NIT",e.RUT="RUT",e.PASSPORT="PASSPORT",e.FOREIGN_ID="FOREIGN_ID",e.DNI="DNI",e.RUC="RUC",e.DNI_EXT="DNI_EXT",e.CUIT="CUIT",e.CUIL="CUIL",e}({});function U(e){let{formData:t,onChange:s}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:t.name,onChange:e=>s({...t,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter patient name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,a.jsxs)("select",{value:t.idCountry,onChange:e=>s({...t,idCountry:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select country"}),Object.entries(L).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:s,children:s.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())},t)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Type"}),(0,a.jsxs)("select",{value:t.idType,onChange:e=>s({...t,idType:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select ID type"}),Object.entries(D).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:s,children:s},t)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Value"}),(0,a.jsx)("input",{type:"text",value:t.idValue,onChange:e=>s({...t,idValue:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter ID value"})]})]})}function M(e){let{patientInfo:t}=e,{showCreateNewPatient:s,setShowCreateNewPatient:r,newPatientForm:n,setNewPatientForm:l,reassignSession:i,sessions:o,setSessions:c,setSelectedSession:d,setShowReassignModal:m,setShowSessionsList:u}=v(),x=!(null==i?void 0:i.patientInfo),N=e=>{if(e){if(i){let e={...i,patientInfo:t||void 0};c(o.map(t=>t.id===i.id?e:t)),d(e)}m(!1),u(!0)}else r(!0)};return(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Create New Patient"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Enter patient information (all fields required):"}),(0,a.jsx)(U,{formData:n,onChange:l}),(0,a.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,a.jsx)("button",{onClick:()=>{if(n.name&&n.idCountry&&n.idType&&n.idValue){let e={name:n.name,idCountry:n.idCountry,idType:n.idType,idValue:n.idValue};if(i){let t={...i,patientInfo:e,patientName:e.name};c(o.map(e=>e.id===i.id?t:e)),d(t)}m(!1),r(!1),u(!0)}},disabled:!n.name||!n.idCountry||!n.idType||!n.idValue,className:"flex-1 font-semibold py-2 px-4 rounded-lg transition-colors ".concat(n.name&&n.idCountry&&n.idType&&n.idValue?"bg-green-500 hover:bg-green-600 text-white cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Create Patient"}),(0,a.jsx)("button",{onClick:()=>r(!1),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Back"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_,{patientInfo:t,title:x?"Assign Patient":"Reassign Patient",description:x?"Assign patient information for this session:":"Reassign patient information for this session:"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>N(!0),className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Use this information"}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Create new patient"})]}),(0,a.jsx)("button",{onClick:()=>{m(!1),u(!0)},className:"w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})})})}function P(){let{errorMessage:e,setShowErrorModal:t}=v();return(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-red-600",children:"Error"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:e}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Close"})]})})}function k(e){let{currentStep:t,setCurrentStep:s,patientInfo:r,onSessionCreated:n}=e,{showConfirmModal:l,showErrorModal:i,showSessionsList:o,showReassignModal:c}=v();return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Telepatia Interface"}),l&&(0,a.jsx)(w,{patientInfo:r,setCurrentStep:s,onSessionCreated:n}),i&&(0,a.jsx)(P,{}),c&&(0,a.jsx)(M,{patientInfo:r}),o&&(0,a.jsx)(O,{setCurrentStep:s}),(0,a.jsx)(C,{currentStep:t,setCurrentStep:s})]})}function B(e){return(0,a.jsx)(R,{children:(0,a.jsx)(k,{...e})})}let G="http://localhost:3002";class H{async updateCurrentPatient(e){try{let t={name:e.name,idCountry:e.idCountry.toUpperCase(),idType:e.idType,idValue:e.idValue},s=await fetch("".concat(G,"/api/account/external-system/current-patient"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(this.bearerToken),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){let e=await s.text();return{success:!1,error:"Failed to update patient: ".concat(s.status," ").concat(s.statusText,". ").concat(e)}}let a=await s.json().catch(()=>({success:!1}));if(200===s.status&&!0===a.success)return{success:!0,data:a};return{success:!1,error:"API returned unexpected response format or success: false"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async findSessionsByPatient(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{let s={idCountry:e.idCountry.toUpperCase(),idType:e.idType,idValue:e.idValue,limit:t},a=await fetch("".concat(G,"/api/scribe-sessions/find-by-patient"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.bearerToken),"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.text();return{success:!1,error:"Failed to fetch sessions: ".concat(a.status," ").concat(a.statusText,". ").concat(e)}}let r=await a.json();return{success:!0,data:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async fetchScribeSession(e){try{let t=await this.findSessionsByPatient(e,1);if(!t.success||!t.data)return{success:!1,error:t.error||"Failed to fetch patient sessions"};let{sessions:s}=t.data;if(!s||0===s.length)return{success:!1,error:"No sessions found for patient ".concat(e.name," (ID: ").concat(e.idValue,")")};let a=s[0],r=this.formatSessionAsScribeNote(a);return{success:!0,data:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}formatSessionAsScribeNote(e){let t="Session ID: ".concat(e.documentId,"\n");return t+="Date: ".concat(new Date(e.createdAt).toLocaleString(),"\n"),t+="Status: ".concat(e.status,"\n\n"),e.medicalRecord?(t+="Medical Record:\n",t+="================\n\n",e.medicalRecord.extraOralExamination&&(t+="Extra Oral Examination:\n",t+=JSON.stringify(e.medicalRecord.extraOralExamination,null,2),t+="\n\n"),e.medicalRecord.intraOralExamination&&(t+="Intra Oral Examination:\n",t+=JSON.stringify(e.medicalRecord.intraOralExamination,null,2),t+="\n\n"),e.medicalRecord.odontogram&&(t+="Odontogram:\n",t+=JSON.stringify(e.medicalRecord.odontogram,null,2),t+="\n\n")):t+="No medical record available for this session.\n",t}async listDoctors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=new URLSearchParams;e.status&&t.append("status",e.status),e.specialty&&t.append("specialty",e.specialty),e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString());let s=t.toString(),a="".concat(G,"/api/institutionals/doctors").concat(s?"?"+s:""),r=await fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(this.bearerToken),"Content-Type":"application/json"}});if(!r.ok){let e=await r.text().catch(()=>""),t="Failed to fetch doctors: ".concat(r.status," ").concat(r.statusText);if(401===r.status)t="Invalid API key. Please check your credentials.";else if(403===r.status)t="Access forbidden. You do not have permission to view doctors.";else if(429===r.status)t="Too many requests. Please wait before trying again.";else if(r.status>=500)t="Server error. Please try again later.";else if(e)try{t=JSON.parse(e).message||t}catch(e){}return{success:!1,error:t}}let n=await r.json();if(e.search&&n.doctors){let t=e.search.toLowerCase();n.doctors=n.doctors.filter(e=>{var s,a;return(null==(s=e.nameFull)?void 0:s.toLowerCase().includes(t))||(null==(a=e.email)?void 0:a.toLowerCase().includes(t))})}return{success:!0,data:n}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to fetch doctors"}}}async updateDoctorStatus(e,t,s){try{let a={enabled:t};!t&&s&&(a.reason=s);let r=await fetch("".concat(G,"/api/institutionals/accounts/").concat(e,"/status"),{method:"PUT",headers:{Authorization:"Bearer ".concat(this.bearerToken),"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){let e=await r.text().catch(()=>""),t="Failed to update doctor status: ".concat(r.status," ").concat(r.statusText);if(400===r.status)try{t=JSON.parse(e).message||"Invalid request. Please check the provided data."}catch(e){t="Invalid request. Please check the provided data."}else 401===r.status?t="Invalid API key. Please check your credentials.":403===r.status?t="Access forbidden. Cannot update doctors from other institutions.":404===r.status?t="Doctor not found.":r.status>=500&&(t="Server error. Please try again later.");return{success:!1,error:t}}let n=await r.json();return{success:!0,data:n}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to update doctor status"}}}async createDoctorAccount(e){try{let t=await fetch("".concat(G,"/api/institutionals/accounts"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.bearerToken),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.text().catch(()=>""),s="Failed to create doctor account: ".concat(t.status," ").concat(t.statusText);if(400===t.status)try{let t=JSON.parse(e);s=t.message?Array.isArray(t.message)?t.message.join(", "):t.message:"Invalid request. Please check the provided data."}catch(e){s="Invalid request. Please check the provided data."}else 401===t.status?s="Invalid API key. Please check your credentials.":403===t.status?s="Access forbidden. You do not have permission to create doctor accounts.":409===t.status?s="An account with this email already exists.":t.status>=500&&(s="Server error. Please try again later.");return{success:!1,error:s}}let s=await t.json();return{success:!0,data:s}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to create doctor account"}}}constructor(e){this.bearerToken=e}}async function F(e){try{let t=await fetch("".concat(G,"/api/auth/validate"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return{success:!1,error:"Invalid token: ".concat(t.status," ").concat(t.statusText)};let s=await t.json().catch(()=>null);return{success:!0,data:s}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to validate token"}}}function Y(e){let{currentStep:t,setCurrentStep:s,patientInfo:l,setPatientInfo:i,selectedSession:o,bearerToken:c,setBearerToken:d,isAuthenticated:m,handleAuthenticate:u,handleLogout:x}=e,{t:N}=(0,n.Bd)(),[h,A]=(0,r.useState)(!0),[g,p]=(0,r.useState)(""),[b,I]=(0,r.useState)(!1),[f,E]=(0,r.useState)(null),[j,S]=(0,r.useState)(!1),[T,v]=(0,r.useState)(null),[R,C]=(0,r.useState)("John Doe"),[O,_]=(0,r.useState)("COLOMBIA"),[w,U]=(0,r.useState)("CC"),[M,P]=(0,r.useState)("abcd1234efg5678"),k=c?new H(c):null,B=async()=>{if(!c.trim()||t!==y.AUTHENTICATE)return;S(!0),v(null);let e=await F(c);e.success?u():v(e.error||"Invalid token"),S(!1)},G=async()=>{if(t===y.INITIALIZE_CONSULTATION&&m&&k){if(!R.trim()||!M.trim())return void E("Please fill in all required fields");I(!0),E(null);let e={name:R.trim(),idCountry:O,idType:w,idValue:M.trim()},t=await k.updateCurrentPatient(e);t.success?(i(e),A(!1),s(y.START_RECORDING)):E(t.error||"Failed to update patient information"),I(!1)}},Y=async()=>{if(t===y.IMPORT_SCRIBE&&l&&k){I(!0),E(null);let e=await k.fetchScribeSession(l);e.success&&e.data?(p(e.data),s(y.COMPLETED)):(E(e.error||"Failed to fetch scribe session"),s(y.CONFIRM_PATIENT)),I(!1)}};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold mb-6 text-gray-800",children:N("externalSystem.title")}),(0,a.jsxs)("div",{className:"mb-6 p-4 rounded-lg ".concat(m?"bg-green-100 border border-green-300":"bg-yellow-100 border border-yellow-300"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("label",{htmlFor:"bearer-token",className:"text-sm font-semibold text-gray-700",children:[N("header.bearerToken"),":"]}),m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"flex-1 px-3 py-1 text-sm bg-green-200 border border-green-400 rounded font-mono",children:(e=>{if(!e)return"";let t=Math.floor(10*Math.random())+5;return"*".repeat(t)})(c)}),(0,a.jsxs)("button",{onClick:x,className:"px-3 py-1 bg-red-500 text-white hover:bg-red-600 rounded transition-colors",title:N("header.logout"),children:["\uD83D\uDD13 ",N("header.logout")]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{id:"bearer-token",type:"text",value:c,onChange:e=>{d(e.target.value),v(null)},placeholder:N("header.enterToken"),className:"flex-1 px-3 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(T?"border-red-500":"border-gray-300")}),(0,a.jsxs)("button",{onClick:B,disabled:t!==y.AUTHENTICATE||j||!c.trim(),className:"px-3 py-1 rounded transition-colors border ".concat(t===y.AUTHENTICATE&&!j&&c.trim()?"bg-indigo-500 text-white hover:bg-indigo-600 border-indigo-500 cursor-pointer":"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed"),title:t===y.AUTHENTICATE?N("header.authenticate"):N("header.completePreviousSteps"),children:[j?"⏳":"\uD83D\uDD12"," ",N("header.authenticate")]})]})]}),T&&!m&&(0,a.jsx)("div",{className:"mt-2 text-sm text-red-600",children:T})]}),h?(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:N("externalSystem.initializeConsult")}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border border-gray-300 p-4 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:N("externalSystem.clickToInitialize")}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"patient-name",className:"block text-sm font-medium text-gray-700 mb-1",children:[N("externalSystem.name")," ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"patient-name",type:"text",value:R,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter patient name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"patient-country",className:"block text-sm font-medium text-gray-700 mb-1",children:N("externalSystem.country")}),(0,a.jsx)("select",{id:"patient-country",value:O,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[L.COLOMBIA,L.MEXICO,L.PERU,L.ARGENTINA,L.CHILE,L.ECUADOR,L.VENEZUELA].map(e=>(0,a.jsx)("option",{value:e,children:N("countries.".concat(e.toLowerCase()))||e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"patient-id-type",className:"block text-sm font-medium text-gray-700 mb-1",children:N("externalSystem.idType")}),(0,a.jsx)("select",{id:"patient-id-type",value:w,onChange:e=>U(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[D.CC,D.CE,D.PASSPORT,D.TI,D.RC,D.NIT].map(e=>(0,a.jsx)("option",{value:e,children:N("idTypes.".concat(e.toLowerCase()))||e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"patient-id-value",className:"block text-sm font-medium text-gray-700 mb-1",children:[N("externalSystem.idValue")," ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"patient-id-value",type:"text",value:M,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter patient ID"})]})]})]}),f&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:(0,a.jsx)("p",{className:"text-sm",children:f})}),(0,a.jsx)("button",{onClick:G,disabled:t!==y.INITIALIZE_CONSULTATION||b||!m||!R.trim()||!M.trim(),className:"w-full font-semibold py-3 px-6 rounded-lg transition-colors ".concat(t===y.INITIALIZE_CONSULTATION&&!b&&m&&R.trim()&&M.trim()?"bg-indigo-500 hover:bg-indigo-600 text-white cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:b?"Updating...":N("externalSystem.initializeButton")})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:N("externalSystem.patientInformation")}),l&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-600",children:[N("externalSystem.name"),":"]}),(0,a.jsx)("p",{className:"text-gray-800",children:l.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-600",children:[N("externalSystem.idCountry"),":"]}),(0,a.jsx)("p",{className:"text-gray-800",children:l.idCountry})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-600",children:[N("externalSystem.idType"),":"]}),(0,a.jsx)("p",{className:"text-gray-800",children:l.idType})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-600",children:[N("externalSystem.idValue"),":"]}),(0,a.jsx)("p",{className:"text-gray-800",children:l.idValue})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:N("externalSystem.medicalRecord")}),(0,a.jsx)("button",{onClick:Y,disabled:t!==y.IMPORT_SCRIBE||b,className:"px-4 py-2 font-semibold rounded-lg transition-colors ".concat(t!==y.IMPORT_SCRIBE||b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white cursor-pointer"),children:b?"Importing...":N("externalSystem.importScribeSession")})]}),f&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:(0,a.jsx)("p",{className:"text-sm",children:f})}),(0,a.jsx)("textarea",{value:g,readOnly:!0,className:"w-full h-64 p-4 border border-gray-300 rounded-lg resize-none bg-gray-50 text-gray-700",placeholder:N("externalSystem.medicalNotesPlaceholder")})]}),(0,a.jsx)("button",{onClick:()=>{A(!0),i(null),p(""),E(null),s(y.AUTHENTICATE),C("John Doe"),_("COLOMBIA"),U("CC"),P("abcd1234efg5678")},className:"font-semibold py-2 px-4 rounded-lg transition-colors ".concat(t===y.COMPLETED?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-500 hover:bg-gray-600 text-white"),children:t===y.COMPLETED?N("externalSystem.startNewWorkflow"):N("externalSystem.resetWorkflow")})]})]})}var V=s(2138),K=s(3453),W=s(5339),Z=s(3904);function z(){let[e,t]=(0,r.useState)(y.AUTHENTICATE),[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(""),[o,c]=(0,r.useState)(null),[d,A]=(0,r.useState)(null);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Integration Testing"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Test the complete workflow between Telepatia and your external system"})]}),(0,a.jsx)(p,{variant:"outline",className:"px-3 py-1",children:"Test Environment"})]}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(x,{className:"text-lg",children:"Workflow Progress"}),(0,a.jsx)(N,{children:"Follow these steps to complete the integration test"})]}),(0,a.jsx)(h,{children:(0,a.jsx)(S,{currentStep:e})})]}),(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{children:(0,a.jsx)(x,{className:"text-lg",children:"Data Flow"})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat(e<=y.START_RECORDING?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:(0,a.jsx)("span",{className:"font-semibold",children:"External System"})}),(0,a.jsx)(V.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat(e>=y.START_RECORDING&&e<=y.CONFIRM_PATIENT?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:(0,a.jsx)("span",{className:"font-semibold",children:"Telepatia"})}),(0,a.jsx)(V.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat(e>=y.IMPORT_SCRIBE?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:(0,a.jsx)("span",{className:"font-semibold",children:"Medical Record"})})})]})})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(m,{className:"overflow-hidden",children:[(0,a.jsx)(u,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Telepatia Interface"}),(0,a.jsx)(N,{children:"Recording and session management system"})]}),e>=y.START_RECORDING&&e<=y.CONFIRM_PATIENT&&(0,a.jsx)(p,{variant:"default",children:"Active"})]})}),(0,a.jsx)(h,{className:"p-0",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(B,{currentStep:e,setCurrentStep:t,patientInfo:o,onSessionCreated:e=>{A(e)}})})})]}),(0,a.jsxs)(m,{className:"overflow-hidden",children:[(0,a.jsx)(u,{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"External System Interface"}),(0,a.jsx)(N,{children:"Your institution's integration endpoint"})]}),(e===y.AUTHENTICATE||e===y.INITIALIZE_CONSULTATION||e>=y.IMPORT_SCRIBE)&&(0,a.jsx)(p,{variant:"default",children:"Active"})]})}),(0,a.jsx)(h,{className:"p-0",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(Y,{currentStep:e,setCurrentStep:t,patientInfo:o,setPatientInfo:c,selectedSession:d,bearerToken:l,setBearerToken:i,isAuthenticated:s,handleAuthenticate:()=>{l.trim()&&e===y.AUTHENTICATE&&(n(!0),t(y.INITIALIZE_CONSULTATION))},handleLogout:()=>{n(!1),i(""),t(y.AUTHENTICATE)}})})})]})]}),(0,a.jsx)(m,{children:(0,a.jsx)(h,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:e===y.COMPLETED?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.A,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Workflow Completed Successfully"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.A,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Workflow In Progress"})]})})}),(0,a.jsxs)(f,{variant:"outline",size:"sm",onClick:()=>{t(y.AUTHENTICATE),n(!1),i(""),c(null),A(null)},children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Reset Workflow"]})]})})})]})}let J=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:d("w-full caption-bottom text-sm",s),...r})})});J.displayName="Table";let q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:d("[&_tr]:border-b",s),...r})});q.displayName="TableHeader";let Q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:d("[&_tr:last-child]:border-0",s),...r})});Q.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:d("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let X=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:d("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});X.displayName="TableRow";let $=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:d("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})});$.displayName="TableHead";let ee=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:d("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})});ee.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:d("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";var et=s(8611);let es=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(et.bL,{className:d("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(et.zi,{className:d("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});es.displayName=et.bL.displayName;var ea=s(9803),er=s(8749),en=s(2657),el=s(1154),ei=s(2318),eo=s(7924),ec=s(5670),ed=s(9446),em=s(4416);function eu(e){let{open:t,onCancel:s,onConfirm:n,isSubmitting:l,doctorName:i}=e,[o,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{t&&(c(""),m(""),setTimeout(()=>{var e;return null==(e=u.current)?void 0:e.focus()},100))},[t]);let x=(0,r.useCallback)(()=>{let e=o.trim();return e?e.length<5?void m("Reason must be at least 5 characters long"):e.length>500?void m("Reason must not exceed 500 characters"):void(m(""),n(e)):void m("Reason is required")},[o,n]);return((0,r.useEffect)(()=>{let e=e=>{t&&("Escape"===e.key?s():(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&x())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,o,s,x]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:s,"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-lg shadow-lg",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,a.jsx)(ed.A,{className:"h-5 w-5 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:"Disable Doctor Account"}),i&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:i})]})]}),(0,a.jsx)("button",{onClick:s,disabled:l,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50","aria-label":"Close modal",children:(0,a.jsx)(em.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{id:"modal-description",className:"text-sm text-gray-600 mb-4",children:"Please provide a reason for disabling this doctor account. This action will prevent the doctor from accessing the system until re-enabled."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{htmlFor:"disable-reason",className:"block text-sm font-medium text-gray-700",children:["Reason for disabling ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{ref:u,id:"disable-reason",className:"w-full px-3 py-2 border rounded-md text-sm resize-none focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent ".concat(d?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"e.g., Policy violation, Suspicious activity, Administrative suspension...",rows:4,value:o,onChange:e=>{var t;c(t=e.target.value),d&&t.trim().length>=5&&m("")},disabled:l,maxLength:500,"aria-describedby":d?"reason-error":"reason-help"}),(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("div",{className:"text-xs space-y-1",children:d?(0,a.jsx)("p",{id:"reason-error",className:"text-red-600",role:"alert",children:d}):(0,a.jsx)("p",{id:"reason-help",className:"text-gray-500",children:"Minimum 5 characters, maximum 500 characters"})}),(0,a.jsxs)("span",{className:"text-xs ".concat(o.length>450?"text-orange-600":"text-gray-500"),children:[o.length,"/500"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50 rounded-b-lg",children:[(0,a.jsx)(f,{variant:"outline",onClick:s,disabled:l,children:"Cancel"}),(0,a.jsx)(f,{onClick:x,disabled:l||!o.trim()||o.trim().length<5,className:"bg-red-600 hover:bg-red-700 text-white",children:l?"Disabling...":"Disable Account"})]})]})]}):null}var ex=s(5196),eN=s(4357);function eh(e){let{open:t,onCancel:s,onConfirm:n,isSubmitting:l,createdAccount:i}=e,[o,c]=(0,r.useState)({email:"",password:"",doctorSpecialty:"GENERAL_MEDICINE",nameFull:"",institutionalBranchName:""}),[d,m]=(0,r.useState)({}),[u,x]=(0,r.useState)(!1),[N,h]=(0,r.useState)(!1),[A,g]=(0,r.useState)(!1),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{t&&(c({email:"",password:"",doctorSpecialty:"GENERAL_MEDICINE",nameFull:"",institutionalBranchName:""}),m({}),x(!1),h(!1),g(!1),setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},100))},[t]),(0,r.useEffect)(()=>{let e=e=>{t&&("Escape"!==e.key||i||s())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,s,i]);let b=(0,r.useCallback)(()=>{let e={};return o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email="Please enter a valid email address"):e.email="Email is required",o.password.trim()?o.password.length<6?e.password="Password must be at least 6 characters long":o.password.length>50&&(e.password="Password must not exceed 50 characters"):e.password="Password is required",o.doctorSpecialty||(e.doctorSpecialty="Doctor specialty is required"),o.nameFull&&!o.nameFull.trim()&&(e.nameFull="If provided, full name cannot be empty"),o.institutionalBranchName&&!o.institutionalBranchName.trim()&&(e.institutionalBranchName="If provided, branch name cannot be empty"),m(e),0===Object.keys(e).length},[o]),I=(e,t)=>{c(s=>({...s,[e]:t})),d[e]&&m(t=>({...t,[e]:""}))},y=async()=>{if(null==i?void 0:i.apiKey)try{await navigator.clipboard.writeText(i.apiKey),g(!0),setTimeout(()=>g(!1),3e3)}catch(e){console.error("Failed to copy API key:",e)}};return t?i?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-lg shadow-lg",role:"dialog","aria-modal":"true","aria-labelledby":"success-modal-title",children:[(0,a.jsx)("div",{className:"flex items-center justify-between p-6 border-b",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-full",children:(0,a.jsx)(ex.A,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{id:"success-modal-title",className:"text-lg font-semibold text-gray-900",children:"Doctor Account Created"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Account created successfully"})]})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Doctor ID"}),(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md",children:(0,a.jsx)("span",{className:"font-mono text-sm text-gray-900",children:i.documentId})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:i.email})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["API Key ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"px-3 py-2 pr-20 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,a.jsx)("span",{className:"font-mono text-sm text-gray-900 break-all",children:N?i.apiKey:"•".repeat(i.apiKey.length)})}),(0,a.jsxs)("div",{className:"absolute right-1 top-1 flex gap-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>h(!N),className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:N?"Hide API key":"Show API key",children:N?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(en.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{type:"button",onClick:y,className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Copy API key",children:(0,a.jsx)(eN.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-amber-600",children:[(0,a.jsx)("strong",{children:"Important:"})," Save this API key securely. It will not be shown again."]}),A&&(0,a.jsx)("p",{className:"mt-1 text-xs text-green-600",children:"✓ API key copied to clipboard"})]})]}),(0,a.jsx)("div",{className:"flex justify-end p-6 border-t bg-gray-50 rounded-b-lg",children:(0,a.jsx)(f,{onClick:s,children:"Done"})})]})]}):(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:l?void 0:s,"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-lg shadow-lg",role:"dialog","aria-modal":"true","aria-labelledby":"create-modal-title",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,a.jsx)(ei.A,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{id:"create-modal-title",className:"text-lg font-semibold text-gray-900",children:"Create Doctor Account"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Add a new doctor to your institution"})]})]}),(0,a.jsx)("button",{onClick:s,disabled:l,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50","aria-label":"Close modal",children:(0,a.jsx)(em.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{var t,s;if(e.preventDefault(),!b())return;let a={email:o.email.trim(),password:o.password,doctorSpecialty:o.doctorSpecialty};(null==(t=o.nameFull)?void 0:t.trim())&&(a.nameFull=o.nameFull.trim()),(null==(s=o.institutionalBranchName)?void 0:s.trim())&&(a.institutionalBranchName=o.institutionalBranchName.trim()),n(a)},children:[(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{ref:p,id:"email",type:"email",value:o.email,onChange:e=>I("email",e.target.value),className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.email?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"doctor@example.com",disabled:l}),d.email&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:d.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",type:u?"text":"password",value:o.password,onChange:e=>I("password",e.target.value),className:"w-full px-3 py-2 pr-10 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.password?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Enter a secure password",disabled:l,minLength:6,maxLength:50}),(0,a.jsx)("button",{type:"button",onClick:()=>x(!u),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",disabled:l,children:u?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(en.A,{className:"h-4 w-4"})})]}),d.password&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:d.password}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"6-50 characters"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"specialty",className:"block text-sm font-medium text-gray-700 mb-1",children:["Medical Specialty ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("select",{id:"specialty",value:o.doctorSpecialty,onChange:e=>I("doctorSpecialty",e.target.value),className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.doctorSpecialty?"border-red-300 bg-red-50":"border-gray-300"),disabled:l,children:E.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),d.doctorSpecialty&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:d.doctorSpecialty})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{id:"fullName",type:"text",value:o.nameFull,onChange:e=>I("nameFull",e.target.value),className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.nameFull?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Dr. John Doe",disabled:l}),d.nameFull&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:d.nameFull}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Optional"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Institution Branch"}),(0,a.jsx)("input",{id:"branchName",type:"text",value:o.institutionalBranchName,onChange:e=>I("institutionalBranchName",e.target.value),className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.institutionalBranchName?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Main Branch",disabled:l}),d.institutionalBranchName&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:d.institutionalBranchName}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Optional"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50 rounded-b-lg",children:[(0,a.jsx)(f,{type:"button",variant:"outline",onClick:s,disabled:l,children:"Cancel"}),(0,a.jsx)(f,{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white",children:l?"Creating...":"Create Account"})]})]})]})]}):null}function eA(){let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(""),[o,c]=(0,r.useState)({doctors:[],total:0,page:1,limit:20,hasMore:!1,isLoading:!1,error:null}),[d,A]=(0,r.useState)(""),[g,b]=(0,r.useState)([]),[I,E]=(0,r.useState)("all"),[y,j]=(0,r.useState)({open:!1,doctorId:null,doctorName:null,isSubmitting:!1}),[S,T]=(0,r.useState)({open:!1,isSubmitting:!1,createdAccount:null}),v=(0,r.useRef)(null),R=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("uzui-api-key");e&&t(e)},[]),(0,r.useEffect)(()=>{e?(localStorage.setItem("uzui-api-key",e),i("")):localStorage.removeItem("uzui-api-key")},[e]);let C=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e.trim())return void i("API key is required");v.current&&v.current.abort(),v.current=new AbortController,c(e=>({...e,isLoading:!0,error:null}));try{let r=new H(e),n={page:t?1:o.page,limit:o.limit,search:d.trim()||void 0,status:"all"===I?void 0:I},l=await r.listDoctors(n);if(l.success&&l.data)c(e=>({...e,doctors:l.data.doctors,total:l.data.total,page:l.data.page,limit:l.data.limit,hasMore:l.data.hasMore,isLoading:!1,error:null})),b([]);else{var s,a;c(e=>({...e,isLoading:!1,error:l.error||"Failed to fetch doctors"})),((null==(s=l.error)?void 0:s.includes("Invalid API key"))||(null==(a=l.error)?void 0:a.includes("401")))&&i("Invalid API key. Please check your credentials.")}}catch(e){c(e=>({...e,isLoading:!1,error:"Network error. Please check your connection."}))}},[e,d,I,o.page,o.limit]);(0,r.useEffect)(()=>(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{e&&C()},300),()=>{R.current&&clearTimeout(R.current)}),[d,I,o.page,o.limit,e,C]);let O=async(e,t)=>{let s=o.doctors.find(t=>t.documentId===e);s&&(t?j({open:!0,doctorId:e,doctorName:s.nameFull||s.email,isSubmitting:!1}):await _(e,!0))},_=async(t,s,a)=>{if(e){c(e=>({...e,doctors:e.doctors.map(e=>e.documentId===t?{...e,isEnabled:s}:e)}));try{let r=new H(e),n=await r.updateDoctorStatus(t,s,a);n.success?await C():c(e=>({...e,doctors:e.doctors.map(e=>e.documentId===t?{...e,isEnabled:!s}:e),error:n.error||"Failed to update doctor status"}))}catch(e){c(e=>({...e,doctors:e.doctors.map(e=>e.documentId===t?{...e,isEnabled:!s}:e),error:"Network error. Please try again."}))}}},w=async e=>{y.doctorId&&(j(e=>({...e,isSubmitting:!0})),await _(y.doctorId,!1,e),j({open:!1,doctorId:null,doctorName:null,isSubmitting:!1}))},L=async t=>{if(e){T(e=>({...e,isSubmitting:!0}));try{let s=new H(e),a=await s.createDoctorAccount(t);a.success&&a.data?(T({open:!0,isSubmitting:!1,createdAccount:{documentId:a.data.documentId,email:a.data.email,apiKey:a.data.apiKey}}),await C()):(T(e=>({...e,isSubmitting:!1})),c(e=>({...e,error:a.error||"Failed to create doctor account"})))}catch(e){T(e=>({...e,isSubmitting:!1})),c(e=>({...e,error:"Network error. Please try again."}))}}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Gesti\xf3n de Doctores"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Administre las cuentas de doctores y monitoree su actividad de integraci\xf3n"})]}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(u,{children:[(0,a.jsxs)(x,{className:"flex items-center gap-2",children:[(0,a.jsx)(ea.A,{className:"h-5 w-5"}),"UZUI API Key"]}),(0,a.jsx)(N,{children:"Enter your UZUI API key to access the doctor management features."})]}),(0,a.jsx)(h,{children:(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&C(!0)},className:"flex items-end gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"api-key",type:s?"text":"password",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your UZUI API key...",className:"w-full px-3 py-2 pr-10 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l?"border-red-300 bg-red-50":"border-gray-300")}),(0,a.jsx)("button",{type:"button",onClick:()=>n(!s),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:s?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(en.A,{className:"h-4 w-4"})})]}),l&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:l})]}),(0,a.jsxs)(f,{type:"submit",disabled:!e.trim()||o.isLoading,children:[o.isLoading?(0,a.jsx)(el.A,{className:"h-4 w-4 animate-spin mr-2"}):null,"Connect"]}),e&&(0,a.jsx)(f,{type:"button",variant:"outline",onClick:()=>{t(""),i(""),c(e=>({...e,doctors:[],total:0,error:null}))},children:"Clear"})]})})]}),e.trim()&&(0,a.jsxs)(m,{className:"border-dashed border-2 border-blue-200 bg-blue-50/50",children:[(0,a.jsxs)(u,{children:[(0,a.jsxs)(x,{className:"flex items-center gap-2 text-blue-700",children:[(0,a.jsx)(ei.A,{className:"h-5 w-5"}),"Create New Doctor Account"]}),(0,a.jsx)(N,{children:"Add a new doctor to your institution with their own account and API key."})]}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("p",{children:"Create doctor accounts with:"}),(0,a.jsxs)("ul",{className:"mt-1 list-disc list-inside space-y-1 text-xs",children:[(0,a.jsx)("li",{children:"Unique email and secure password"}),(0,a.jsx)("li",{children:"Medical specialty assignment"}),(0,a.jsx)("li",{children:"Individual API key generation"}),(0,a.jsx)("li",{children:"Optional name and branch information"})]})]}),(0,a.jsxs)(f,{onClick:()=>{T({open:!0,isSubmitting:!1,createdAccount:null})},disabled:o.isLoading||S.isSubmitting,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(ei.A,{className:"h-4 w-4 mr-2"}),"Create Doctor"]})]})})]}),e.trim()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-sm font-medium",children:"Total de Doctores"})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o.total}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Registrados en el sistema"})]})]}),(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-sm font-medium",children:"Doctores Activos"})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.doctors.filter(e=>e.isEnabled).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Actualmente habilitados"})]})]}),(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{className:"pb-3",children:(0,a.jsx)(x,{className:"text-sm font-medium",children:"Doctores Inactivos"})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:o.doctors.filter(e=>!e.isEnabled).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Actualmente deshabilitados"})]})]})]}),(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Lista de Doctores"}),(0,a.jsx)(N,{children:"Ver y gestionar todos los doctores registrados en el sistema"})]}),(0,a.jsxs)(f,{variant:"outline",size:"sm",onClick:()=>C(),disabled:o.isLoading,children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-2 ".concat(o.isLoading?"animate-spin":"")}),"Refresh"]})]})}),(0,a.jsxs)(h,{children:[o.error&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-red-700",children:o.error}),(0,a.jsx)(f,{variant:"outline",size:"sm",onClick:()=>C(),className:"ml-auto",children:"Retry"})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eo.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name or email...",className:"pl-8 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:e=>A(e.target.value),disabled:o.isLoading})]}),(0,a.jsxs)("select",{value:I,onChange:e=>E(e.target.value),className:"px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o.isLoading,children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:g.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(f,{variant:"outline",size:"sm",onClick:()=>{},disabled:!0,className:"text-green-600",children:[(0,a.jsx)(ec.A,{className:"h-4 w-4 mr-2"}),"Enable (",g.length,")"]}),(0,a.jsxs)(f,{variant:"outline",size:"sm",onClick:()=>{},disabled:!0,className:"text-red-600",children:[(0,a.jsx)(ed.A,{className:"h-4 w-4 mr-2"}),"Disable (",g.length,")"]})]})})]}),o.isLoading&&!o.error&&(0,a.jsxs)("div",{className:"py-12 text-center",children:[(0,a.jsx)(el.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Loading doctors..."})]}),!o.isLoading&&!o.error&&0===o.doctors.length&&(0,a.jsxs)("div",{className:"py-12 text-center",children:[(0,a.jsx)(ed.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No doctors found for the current filters."})]}),!o.isLoading&&o.doctors.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(J,{children:[(0,a.jsx)(q,{children:(0,a.jsxs)(X,{children:[(0,a.jsx)($,{className:"w-12",children:(0,a.jsx)("input",{type:"checkbox",checked:g.length===o.doctors.length&&o.doctors.length>0,onChange:()=>{g.length===o.doctors.length?b([]):b(o.doctors.map(e=>e.documentId))},className:"rounded border-gray-300"})}),(0,a.jsx)($,{children:"Name"}),(0,a.jsx)($,{children:"Email"}),(0,a.jsx)($,{children:"Specialties"}),(0,a.jsx)($,{children:"Document ID"}),(0,a.jsx)($,{children:"Status"}),(0,a.jsx)($,{children:"Created"}),(0,a.jsx)($,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(Q,{children:o.doctors.map(e=>{var t;return(0,a.jsxs)(X,{children:[(0,a.jsx)(ee,{children:(0,a.jsx)("input",{type:"checkbox",checked:g.includes(e.documentId),onChange:()=>{var t;return t=e.documentId,void b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"rounded border-gray-300"})}),(0,a.jsx)(ee,{className:"font-medium",children:e.nameFull||"—"}),(0,a.jsx)(ee,{children:e.email}),(0,a.jsx)(ee,{children:(null==(t=e.doctorSpecialties)?void 0:t.join(", "))||"—"}),(0,a.jsx)(ee,{className:"font-mono text-xs text-gray-500",children:e.documentId}),(0,a.jsx)(ee,{children:(0,a.jsx)(p,{variant:e.isEnabled?"default":"secondary",children:e.isEnabled?"Active":"Inactive"})}),(0,a.jsx)(ee,{className:"text-sm text-gray-500",children:(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid date"}})(e.createdAt)}),(0,a.jsx)(ee,{className:"text-right",children:(0,a.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,a.jsx)(es,{checked:e.isEnabled,onCheckedChange:()=>O(e.documentId,e.isEnabled),disabled:o.isLoading})})})]},e.documentId)})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-500",children:[(0,a.jsxs)("div",{children:["Showing ",Math.min((o.page-1)*o.limit+1,o.total)," to"," ",Math.min(o.page*o.limit,o.total)," of ",o.total," doctors"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{variant:"outline",size:"sm",onClick:()=>c(e=>({...e,page:Math.max(1,e.page-1)})),disabled:o.page<=1||o.isLoading,children:"Previous"}),(0,a.jsxs)("span",{className:"px-3 py-1 bg-gray-100 rounded text-sm",children:["Page ",o.page]}),(0,a.jsx)(f,{variant:"outline",size:"sm",onClick:()=>c(e=>({...e,page:e.page+1})),disabled:!o.hasMore||o.isLoading,children:"Next"})]})]})]})]})]})]}):(0,a.jsx)(m,{children:(0,a.jsx)(h,{className:"py-12",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)(ea.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"Please enter your UZUI API key to view and manage doctors."})]})})}),(0,a.jsx)(eu,{open:y.open,onCancel:()=>{j({open:!1,doctorId:null,doctorName:null,isSubmitting:!1})},onConfirm:w,isSubmitting:y.isSubmitting,doctorName:y.doctorName||void 0}),(0,a.jsx)(eh,{open:S.open,onCancel:()=>{T({open:!1,isSubmitting:!1,createdAccount:null})},onConfirm:L,isSubmitting:S.isSubmitting,createdAccount:S.createdAccount})]})}var eg=s(8143);let ep=eg.bL,eb=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eg.B8,{ref:t,className:d("inline-flex h-9 items-center justify-center rounded-lg bg-gray-100 p-1 text-gray-600",s),...r})});eb.displayName=eg.B8.displayName;let eI=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eg.l9,{ref:t,className:d("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow",s),...r})});eI.displayName=eg.l9.displayName;let ef=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eg.UC,{ref:t,className:d("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",s),...r})});ef.displayName=eg.UC.displayName;var eE=s(4867),ey=s(7580);function ej(){let[e,t]=(0,r.useState)("integration");return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,a.jsx)(l,{}),(0,a.jsx)("div",{className:"flex-1 container mx-auto px-4 py-6",children:(0,a.jsxs)(ep,{value:e,onValueChange:t,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(eb,{className:"grid w-fit grid-cols-2 gap-4",children:[(0,a.jsxs)(eI,{value:"integration",className:"flex items-center gap-2",children:[(0,a.jsx)(eE.A,{className:"h-4 w-4"}),"Prueba de Integraci\xf3n"]}),(0,a.jsxs)(eI,{value:"doctors",className:"flex items-center gap-2",children:[(0,a.jsx)(ey.A,{className:"h-4 w-4"}),"Gesti\xf3n de Doctores"]})]}),(0,a.jsx)(i,{})]}),(0,a.jsx)(ef,{value:"integration",className:"space-y-6",children:(0,a.jsx)(z,{})}),(0,a.jsx)(ef,{value:"doctors",className:"space-y-6",children:(0,a.jsx)(eA,{})})]})})]})}}},e=>{e.O(0,[218,183,441,964,358],()=>e(e.s=2252)),_N_E=e.O()}]);